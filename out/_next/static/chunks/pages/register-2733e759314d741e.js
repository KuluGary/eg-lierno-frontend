(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{9805:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(1243)}])},6972:function(e,t,a){"use strict";a.d(t,{m:function(){return n}});var n={regex:{email:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,password:/^[a-zA-Z0-9]{8,32}$/,username:/^[a-zA-Z0-9]{3,32}$/,first_name:/^[\w'\-,.][^0-9_!\xa1?\xf7?\xbf/\\+=@#$%\u02c6&*(){}|~<>;:[\]]{2,}$/,last_name:/^[\w'\-,.][^0-9_!\xa1?\xf7?\xbf/\\+=@#$%\u02c6&*(){}|~<>;:[\]]{2,}$/}}},1243:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var n=a(5893),r=a(7294),i=a(9008),o=a(6886),s=a(5113),l=a(7357),u=a(9661),c=a(5861),m=a(7146),d=a(3321),f=a(3845),p=a(37),x=a(6972),h=a(1163),b=a(2132),g=a(5666),v=a.n(g);function j(e,t,a,n,r,i,o){try{var s=e[i](o),l=s.value}catch(u){return void a(u)}s.done?t(l):Promise.resolve(l).then(n,r)}function y(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){j(i,n,r,o,s,"next",e)}function s(e){j(i,n,r,o,s,"throw",e)}o(void 0)}))}}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){_(e,t,a[t])}))}return e}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,n=[{key:"fetchInternal",value:function(e,t,a){var n=void 0===a?"v1":a;return y(v().mark((function a(){var r;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="http://192.168.1.37:3001/api/"+n+e,r={Accept:"application/json","Content-Type":"application/json",withCredentials:!0},a.abrupt("return",fetch(e,P({headers:r,credentials:"include"},t)).then(y(v().mark((function e(t){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,403!==t.status){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.payload||a);case 6:case"end":return e.stop()}}),e)})))));case 3:case"end":return a.stop()}}),a)})))()}}],(a=null)&&w(t.prototype,a),n&&w(t,n),e}();function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){O(e,t,a[t])}))}return e}function k(){var e=x.m.regex,t=(0,r.useState)({username:"",password:"",metadata:{first_name:"",last_name:"",email:""}}),a=t[0],g=t[1],v=(0,r.useState)({username:"",password:"",metadata:{first_name:"",last_name:"",email:""}}),j=v[0],y=v[1],w={username:"Este no es un nombre de usuario v\xe1lido. Aseg\xfarate de que al menos tenga 3 car\xe1cteres.",password:"Esta contrase\xf1a no es v\xe1lida, por favor aseg\xfarate de que tu contrase\xf1a tiene al menos un n\xfamero, una letra may\xfascula y min\xfascula, un car\xe1cter especial y tiene entre 6 y 20 car\xe1cteres.",metadata:{first_name:"Por favor introduce un nombre v\xe1lido.",last_name:"Por favor introduce un apellido v\xe1lido.",email:"Este no es un email v\xe1lido. Por favor, aseg\xfarate que el email que introduces es correcto."}},_=function(t){var n=t.target,r=n.value,i=n.attributes.id.value;e[i]&&(e[i].test(r)?y(C({},j,i in a?O({},i,""):{metadata:C({},j.metadata,O({},i,""))})):y(C({},j,i in a?O({},i,w[i]):{metadata:C({},j.metadata,O({},i,w.metadata[i]))}))),g(C({},a,i in a?O({},i,r):{metadata:C({},a.metadata,O({},i,r))}))};return(0,n.jsxs)(o.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,n.jsxs)(i.default,{children:[(0,n.jsx)("title",{children:"Lierno App | Registrarse"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(o.ZP,{item:!0,mobile:!1,tablet:4,laptop:6,sx:{backgroundImage:"url(art/login-bg.jpg)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,n.jsx)(o.ZP,{item:!0,mobile:12,tablet:8,laptop:6,component:s.Z,elevation:6,square:!0,children:(0,n.jsxs)(l.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(u.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,n.jsx)(f.Z,{})}),(0,n.jsx)(c.Z,{component:"h1",variant:"h5",children:"Reg\xedstrate en Lierno App"}),(0,n.jsx)(c.Z,{component:"div",variant:"subtitle2",textAlign:"center",marginTop:".5em",children:"En Lierno App podr\xe1s llevar la cuenta de tus personajes y campa\xf1as de forma f\xe1cil e intuitiva."}),(0,n.jsxs)(l.Z,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault(),Z.fetchInternal("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){b.Am.success(e.message),h.default.push("/")})).catch((function(e){return b.Am.error(e.toString())}))},sx:{mt:3,maxWidth:"60%"},children:[(0,n.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(o.ZP,{item:!0,mobile:12,laptop:6,children:(0,n.jsx)(m.Z,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"first_name",label:"Nombre",autoFocus:!0,onChange:_,error:!!j.metadata.first_name,helperText:j.metadata.first_name})}),(0,n.jsx)(o.ZP,{item:!0,mobile:12,laptop:6,children:(0,n.jsx)(m.Z,{required:!0,fullWidth:!0,id:"last_name",label:"Apellidos",name:"lastName",autoComplete:"family-name",onChange:_,error:!!j.metadata.last_name,helperText:j.metadata.last_name})}),(0,n.jsx)(o.ZP,{item:!0,mobile:12,children:(0,n.jsx)(m.Z,{required:!0,fullWidth:!0,id:"email",label:"Cuenta de email",name:"email",autoComplete:"email",onChange:_,error:!!j.metadata.email,helperText:j.metadata.email})}),(0,n.jsx)(o.ZP,{item:!0,mobile:12,children:(0,n.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Nombre de usuario",name:"username",autoComplete:"username",autoFocus:!0,onChange:_,error:!!j.username,helperText:j.username})}),(0,n.jsx)(o.ZP,{item:!0,mobile:12,children:(0,n.jsx)(m.Z,{required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"new-password",onChange:_,error:!!j.password,helperText:j.password})})]}),(0,n.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:j.username.length>0||j.password.length>0||j.metadata.email.length>0||j.metadata.first_name.length>0||j.metadata.last_name.length>0||!a.username.length>0||!a.password.length>0||!a.metadata.email.length>0||!a.metadata.first_name.length>0||!a.metadata.last_name.length>0,children:"Registrarse"}),(0,n.jsx)(o.ZP,{container:!0,justifyContent:"flex-end",children:(0,n.jsx)(o.ZP,{item:!0,children:(0,n.jsx)(p.rU,{href:"/login",variant:"body2",children:"\xbfYa tienes una cuenta? Entrar"})})})]}),(0,n.jsx)(p.wZ,{sx:{mt:5}})]})})]})}}},function(e){e.O(0,[972,132,774,888,179],(function(){return t=9805,e(e.s=t);var t}));var t=e.O();_N_E=t}]);